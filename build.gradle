allprojects {
    group = 'com.epam.esm'
    version = '1.0'
}

subprojects {
    apply plugin: 'java-library'

    tasks.withType(JavaCompile).configureEach {
        sourceCompatibility = 17
        targetCompatibility = 17
    }


    repositories {
        mavenCentral()
    }

    ext.springVersion = '6.1.0'

    dependencies {
        //SPRING
        implementation group: 'org.springframework', name: 'spring-web', version: springVersion
        implementation group: 'org.springframework', name: 'spring-webmvc', version: springVersion
        implementation group: 'org.springframework', name: 'spring-core', version: springVersion
        implementation group: 'org.springframework', name: 'spring-context', version: springVersion
        implementation group: 'org.springframework', name: 'spring-jdbc', version: springVersion

        //DB
        implementation group: 'commons-dbcp', name: 'commons-dbcp', version: '1.4'
        implementation group: 'org.postgresql', name: 'postgresql', version: '42.7.0'

        //SERVLET
        implementation group: 'javax.servlet', name: 'javax.servlet-api', version: '4.0.1'
        compileOnly group: 'jakarta.servlet', name: 'jakarta.servlet-api', version: '6.1.0-M1'
        implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.15.1'
        implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.12.0'

        //LOMBOK
        compileOnly 'org.projectlombok:lombok:1.18.22'
        annotationProcessor 'org.projectlombok:lombok:1.18.22'
        testCompileOnly 'org.projectlombok:lombok:1.18.22'
        testAnnotationProcessor 'org.projectlombok:lombok:1.18.22'

        //TEST
        testImplementation group: 'org.mockito', name: 'mockito-core', version: '5.7.0'
        testImplementation platform('org.junit:junit-bom:5.9.1')
        testImplementation 'org.junit.jupiter:junit-jupiter'
    }

    test {
        useJUnitPlatform()
    }

}

